# 数据类型

## 菜品

|     数据     | 内容 |    备注  |
| ------------ | --- | ---------------|
| 名称 |  菜品名称 |  |
| ID |  菜品ID |  |
| 图片 |  菜品图片 |  |
| 主料 |  必要的食材 | 最多5种，最少1种 |
| 配料 |  其他不必要的食材 | 最多20种，最少0种 |
| 步骤 |  1.图片 2.序号 3.内容 |  |
| 时间 |  所需时间 | 单位统一为分钟 |

例子：
- 名称：西红柿炒鸡蛋
- ID： 123123
- 图片：XXX.jpg
- 主料：番茄；鸡蛋
- 配料：葱花；姜；番茄酱
- 步骤：
  - 1.1 图片：XXX.jpg；
  - 1.2 序号:1；
  - 1.3 内容：热油锅，下葱花和姜；
      ...
- 时间：5分钟

状态：
- 可选菜品：菜品默认状态 
- 已选菜品：用户在本地选择准备做的菜品

## 食材 （暂缺）

|     数据     | 内容 |             备注                |
| ------------ | --- | ------------------------------- |
| 名称 |  食材名称 |  |
| ID |  食材ID |  |
| 图片 | 食材图片 |  |
| 类型 | 食材所属类型 |  |
| 序号 | 食材在所属类型中的排序 | 默认类型收起状态展示0-4 |
| 可做菜品 |  包含此食材的菜品数据表 |  |

例子：
- 名称：番茄
- ID： 123123
- 图片：XXX.jpg
- 类型：蔬菜
- 序号：2
- 可做菜品
  - 西红柿炒鸡蛋
  - 番茄牛腩
  - 番茄土豆
  - ...
          
状态：
- 可选食材：默认状态 
- 已选食材：用户选择的现在可以使用的食材 
- 缺少食材：某一个包含用户已选食材的菜品中的其他**主料**，即用户未选的食材，认为是用户缺少的食材 （菜品选择页）
- 待购食材：当用户完成菜品选择后，最终生成的菜单中，仍然缺少的食材

# 算法说明

- 已选食材：X
- 菜品主料：Y
- 已选食材与菜品主料的交集：N
- 主料-交集（缺少的食材）：  Z

## 判断条件：N>0 （这些菜品的主料中包括至少一种已选食材）

- ### 第一分类：Z=0 （这些菜品的主料全部包含于已选食材：可以直接做）
- 展示规则：全部展示符合条件的菜品
- 排序优先级：
1. 按时间排序 （所需时间越短，越靠前）
2. 按照所需主料数量排序 （所需主料数量越少，越靠前）

- ### 第二分类：Z=1 （这些菜品的主料只差一种就可以做）
- 展示规则：全部展示符合条件的菜品
- 排序优先级：
1. 按时间排序 （所需时间越短，越靠前）
2. 按照所需主料数量排序 （所需主料数量越少，越靠前）

- ### 第三分类：Z>1 （这些菜品的主料差不止一种食材才可以做）
- 展示规则：20 - 前两个类别 （仅当前两种类别不到20个时，才展示第三分类且仅补足20个）
- 排序优先级：
1. 按时间排序 （所需时间越短，越靠前）
2. 按照所需主料数量排序 （所需主料数量越少，越靠前）

## 判断条件：N=0 （这些菜品的主料中不包括任何一种已选食材）
- #### 第一分类：X=1 （展示主料只有一种的菜品）
- 展示规则：每种类别排序为0-1的主料展示前2个菜
- 排序优先级：
1. 按时间排序 （所需时间越短，越靠前）

# 页面说明

## 整体布局

- 流程：**食材选择页** -> **菜品选择页** -> **结果页**
- 详情页：
  - **菜品详情页**
  - 食材详情页（暂缓）。
- 分享弹窗：
  - 主流平台
  - 保存页面截图到相册。

## 食材选择页 （首页）
### 板块：
- 标题
- 食材分类列表 
   - 食材栏
- 底栏

### 标题：
|     数据     | 内容 |    备注  |
| ------------ | --- | ---------------|
| 标题 |  你现在有什么材料？ |  |

### 食材分类列表（每个分类默认仅展示排序为0-4的前5种食材）

|     数据     | 内容 |    备注  |
| ------------ | --- | ---------------|
| 类别 |  食材所属类别名称 |  |
| 食材栏1 |  单个食材图片；名称；选框 |  鸡蛋；西红柿为默认勾选，其他为默认不选 |
| 食材栏2 |  单个食材图片；名称；选框 |  同上 |
| 食材栏3 |  单个食材图片；名称；选框 |  同上 |
| 食材栏4 |  单个食材图片；名称；选框 |  同上 |
| 食材栏5 |  单个食材图片；名称；选框 |  同上 |
| 常用 |  “查看更多” | 序号为0-4的食材，点击切换到 **“全部”** |
| 全部 |  “收起” | 该类中的全部食材，点击切换到 **“常用”** |
 
### 底栏
已选食材数：X
可选菜品数：Y （*主料-交集即缺少的食材Z=0时，**全部主料都被包含于已选食材中的菜品总数** *）

|     数据     | 内容 | 备注  |
| ------------ | --- | ---------------|
| 文字1 | 已选X个食材 | 灰色 |
| 文字2 |  可选Y道菜 | 灰色 |
| 按钮 | 下一步 | X>0 高亮，点击进入 **【菜品选择页】** ；X=0，灰色不可选。 |

### 状态：
默认：
- 已选食材：鸡蛋；西红柿。
- 所有食材分类：收起 （每个分类仅展示排序为0-4的前5种食材）

### 例子： 
- 默认已选
  - 鸡蛋
  - 西红柿。
- 底栏显示：
  - 文字1: 已选2个食材
  - 文字2: 可做20道菜 （Y=20）
  - 按钮：下一步（高亮，点击进入 **【菜品选择页】**）
  
------

## 菜品选择页 （第二步）

### 板块
- 顶栏
  - 返回
  - 标题
- 可选菜品列表
  - 分类1：Z = 0 （无缺少食材，直接可以做）
    - 无缺少食材的单个可选菜品
  - 分类2：Z = 1 （缺少食材为1）
    - 有缺少食材的单个可选菜品
  - 分类3：Z > 1 （缺少食材大于1）
    - 有缺少食材的单个可选菜品
- 底栏
  - 文字1
  - 文字2
  - 按钮











